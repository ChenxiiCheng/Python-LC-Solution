### LC 542. 01 Matrix

#### Question

![image-20190731154433093](/Users/chenxi/Library/Application Support/typora-user-images/image-20190731154433093.png)



#### Solution

```python
class Solution:
    def updateMatrix(self, matrix: List[List[int]]) -> List[List[int]]:
        #Solution 2    
        # ç®—æ³•ï¼šåŠ¨è§„
        # æ€è·¯ï¼š
        #     ä¸€èˆ¬çš„åŠ¨è§„æ˜¯ä»æŸä¸ªç¡®åˆ‡çš„åœ°æ–¹å‡ºå‘ï¼Œ æ¯”å¦‚ä¸€èˆ¬çš„äºŒç»´çŸ©é˜µçš„é¢˜å¯èƒ½å°±æ˜¯ä»å·¦ä¸Šè§’å‡ºå‘å»å³ä¸‹è§’æ¯”è¾ƒç›´è§‚ï¼Œ
        #     ä½†æ˜¯æœ¬é¢˜å¹¶æ²¡æœ‰è¿™ä¸ªé™åˆ¶ï¼Œæ‰€ä»¥äº‹å®ä¸Šå¯ä»¥ä»ä»»ä½•ä¸€ä¸ªä½ç½®å‡ºå‘ï¼Œä½†æ˜¯ä¸å¦¨å°±é€‰å®šä»å·¦ä¸Šå‡ºå‘åˆ°å³ä¸‹ï¼Œå› ä¸º
        #     è¿™æ ·çš„è¯ä¹Ÿä¸€å®šå¯ä»¥å°†æ•´ä¸ªäºŒç»´çŸ©é˜µéƒ½è®¿é—®ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œä»…ä»åä¸Šåˆ°å³ä¸‹ä¸€éæ˜¯ä¸å¤Ÿçš„ï¼è¿˜éœ€è¦
        #     å³ä¸‹åˆ°åä¸Šå†æ¥ä¸€éï¼
        #     âš ï¸âš ï¸âš ï¸ğŸ’¥ğŸŒŸâš¡ï¸ğŸŒŸï¼š
        #         å› ä¸ºä¸€èˆ¬çš„é€’å½’ï¼Œæ˜¯ä¸ä¼šäº§ç”Ÿæ­»å¾ªç¯çš„ï¼Œæ¯”å¦‚ä»å·¦ä¸Šåˆ°å³ä¸‹çš„è¿‡ç¨‹ä¸­ï¼Œä¸‹ä¸€æ—¶åˆ»çš„çŠ¶æ€å’Œå‰ä¸€æ—¶åˆ»çš„
        #     çŠ¶æ€ä¸€å®šæ˜¯åˆ†å‰²å¼€æ¥çš„ï¼Œä½†æ˜¯æœ¬é¢˜äº‹å®ä¸Šæ˜¯ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ï¼Œæ‰€ä»¥å¦‚æœä¸€æ¬¡éå†å°†å››ä¸ªæ–¹å‘éƒ½è®¿é—®çš„è¯
        #     ä¸€å®šä¼šé€ æˆæ­»å¾ªç¯,å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¼šæœ‰å¾ªç¯ä¾èµ–çš„é—®é¢˜ï¼æ‰€ä»¥è¦ä¸¤éä¸å­˜åœ¨å¾ªç¯ä¾èµ–çš„éå†ï¼Œå…ˆå·¦ä¸Šå†å³ä¸‹
        #         ------------
        #         | aâ†’|â†bâ†’|â†c |
        #         --â†“â†‘--â†“â†‘--â†“â†‘-
        #         | dâ†’|â†eâ†’|â†f |
        #         --â†“â†‘--â†“â†‘--â†“â†‘-
        #         | gâ†’|â†hâ†’|â†i |
        #         -------------
        # å¤æ‚åº¦åˆ†æï¼š
        #     æ—¶é—´ï¼šORC*2ï¼ŒRæ˜¯è¡Œæ•°ï¼Œcæ˜¯åˆ—æ•°ï¼Œå…¶å®å°±æ˜¯ON2äº†
        #     ç©ºé—´ï¼šORC*2ï¼Œdpæ•°ç»„ç©ºé—´
        if matrix == []:
            return []
        m, n = len(matrix), len(matrix[0])
        dp = [[float('inf') for _ in range(n)] for __ in range(m)]
        for i in range(m):
            for j in range(n):
                if matrix[i][j] == 0:
                    dp[i][j] = 0
                else:
                    if i > 0:
                        dp[i][j] = min(dp[i][j], dp[i - 1][j] + 1)
                    if j > 0:
                        dp[i][j] = min(dp[i][j], dp[i][j - 1] + 1)
        for i in range(m - 1, -1, -1):
            for j in range(n - 1, -1, -1):
                if matrix[i][j] == 0:
                    dp[i][j] = 0
                else:
                    if i < m - 1:
                        dp[i][j] = min(dp[i][j], dp[i + 1][j] + 1)
                    if j < n - 1:
                        dp[i][j] = min(dp[i][j], dp[i][j + 1] + 1)
        return dp
        
        
        #Solution
        # ç®—æ³•:BFSå®½åº¦ä¼˜å…ˆéå†
        # æ€è·¯ï¼š
        #     æœ¬æ€è·¯æ˜¯åŸºäºæš´åŠ›è§£æ³•æ¥çš„æ”¹è¿›ç‰ˆï¼Œæ‰€ä»¥å…ˆçœ‹ä¸€ä¸‹æš´åŠ›è§£æ³•çš„æ€è·¯ï¼š
        #         éå†çŸ©é˜µï¼Œå¦‚æœmatrix[i][j] == 0 çš„è¯ï¼Œans[i][j]=0,å¦åˆ™matrix[i][j] == 1æ—¶ä»è¿™ä¸ª1çš„ä½ç½®å‡ºå‘
        #     éå†é™„è¿‘æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œæ‰¾åˆ°æœ€è¿‘çš„0ï¼Œè·ç¦»æ˜¯abs(r-i)+abs(c-i)ï¼Œéå¸¸æš´åŠ›ï¼Œè€—æ—¶ï¼Œå¹¶ä¸”è¿™æ ·çš„æ€è·¯æ˜¯åŸºäº
        #     âš ï¸ âš ï¸ã€ä¸€æ¬¡éå†åªæ›´æ–°ä¸€ä¸ªmatrix[i][j] == 1ä½ç½®çš„ans[i][j]çš„å€¼ã€‘
        #     æ‰€ä»¥æ”¹è¿›çš„æ–¹æ³•å°±æ˜¯ï¼Œä»matrix[i][j] == 0å‡ºå‘ï¼Œä¸€æ¬¡æ›´æ–°æ‰€æœ‰matrixï¼Œ0é™„è¿‘çš„æ‰€æœ‰anså¤§äºå®ƒçš„é‚£äº›ä½ç½®çš„å€¼
        #     è¿™æ ·ä¸€æ¬¡å¯ä»¥æ›´æ–°å¤šç‚¹
        #         å¹¶ä¸”è¦ä½¿ç”¨BFSæ¥ä¿éšœä¸€æ¬¡æ›´æ–°å‘¨å›´ç´§é‚»çš„æ‰€æœ‰ä½ç½®ï¼ŒBFSåˆéœ€è¦queueï¼Œæ‰€ä»¥è¿™é‡Œè®¾ç½®queueæ¥è¾…åŠ©
        #     æ³¨æ„ï¸ğŸ’¥âš¡ï¸ğŸŒŸï¼š
        #         BFSçš„ç‰¹æ€§æ˜¯ä»æŸç‚¹å‡ºå‘ï¼ŒBFSç¬¬ä¸€æ¬¡ç¢°åˆ°è¯¥ç‚¹çš„æ—¶å€™ä¸€å®šæ˜¯ç»è¿‡äº†æœ€çŸ­çš„æœç´¢æ­¥æ•°ï¼Œå¯ä»¥æ‹¿äºŒå‰æ ‘çš„å±‚æ¬¡éå†
        #     æ¥ç±»æ¯”ç†è§£ã€‚æ‰€ä»¥ä»1åˆ°0çš„æœ€çŸ­é—´éš”ï¼Œåè¿‡æ¥ï¼Œä¹Ÿæ˜¯è¿™ä¸ª0åˆ°è¿™ä¸ª1çš„æœ€çŸ­é—´éš”ï¼Œæ‰€ä»¥ä»0å‡ºå‘BFSæ¥ç®€åŒ–é—®é¢˜
        #     æ•…ï¼š
        #         1.å…ˆéå†ä¸€æ¬¡ï¼Œç„¶åå°†æ‰€æœ‰matrix[i][j] == 0çš„ä½ç½®å…¥é˜Ÿåˆ—å¹¶ä¸”è®¾ans[i][j] = 0
        #         2.å¯¹é˜Ÿåˆ—ä¸­æ¯ä¸ªä½ç½®iï¼Œjçš„å››ä¸ªæ–¹å‘çš„ç´§é‚»ä½ç½®r,cè¿›è¡Œæ›´æ–°ï¼Œ
        #             ä½ç½®åˆæ³•ä¸”ans[r][c] > ans[i][j] + 1
        #             åˆ™æ›´æ–°ans[r][c] = ans[i][j] + 1
        #             å¹¶ä¸”å°†r,cå…¥é˜Ÿåˆ—ï¼Œå› ä¸ºåˆšæ‰åªæ˜¯æŠŠæ‰€æœ‰0å…¥é˜Ÿåˆ—äº†ï¼Œè¢«æ›´æ–°çš„æ–°çš„ä½ç½®å¾€å¾€éƒ½æ˜¯1ï¼Œè€Œåªéå†æ‰€æœ‰0çš„ç´§é‚»
        #             èŠ‚ç‚¹å¯èƒ½æ˜¯æ— æ³•åˆ°è¾¾ä¸‹é¢çš„1çš„ï¼Œæ‰€ä»¥è¿™é‡Œè¦æŠŠr,cå…¥é˜Ÿåˆ—ï¼Œå¹¶ä¸”è¿™é‡Œçš„queueæœ¬æ¥å°±æ˜¯ä¸ºäº†BFSï¼ŒBFSå¯ä»¥
        #             å¾—åˆ°æœ€è¿‘çš„è§£ï¼Œä¹Ÿå°±åº”è¯¥è¿™æ ·é€çº§å…¥é˜Ÿåˆ—
        # å¤æ‚åº¦åˆ†æï¼š
        #     æ—¶é—´ï¼šORCï¼Œ
        #     ç©ºé—´ï¼šORCï¼Œansç©ºé—´
        if matrix == []:
            return []
        m, n = len(matrix), len(matrix[0])
        queue = collections.deque()
        direction = [(-1, 0), (1, 0), (0, -1), (0, 1)]
        ans = [[float('inf') for _ in range(n)] for __ in range(m)]
        
        for i in range(m):
            for j in range(n):
                if matrix[i][j] == 0:
                    ans[i][j] = 0
                    queue.append((i, j))

        while queue:
            i, j = queue.popleft()
            for dx, dy in direction:
                x = i + dx
                y = j + dy
                if 0 <= x < m and 0 <= y < n and ans[x][y] > ans[i][j] + 1:
                    ans[x][y] = ans[i][j] + 1
                    queue.append((x, y))
        return ans
```

